{% extends "dashboard/base.html" %}
{% load avatar static i18n %}
{% block content %}
<div class="profile-wrapper">
  <div class="row">
    <!-- Principal Profile Card -->
    <div class="col-12 col-md-6">
        <div class="profile-card mx-auto d-flex flex-column">
        <header>
          <div class="profile-card-avatar">
            {% if user.profile_pic %}
                    <span class="user-img"><img class="rounded-circle" src="{{user.profile_pic.url }} "width="45" alt="profile_pic"></span>
                  {% else %}
                      <span class="user-img">{{ user|avatar }}</span> 
                  {% endif %} 
          </div>
        </header>
        
        <h3>{{user.pseudo}}</h3>
        <div class="infos flex-grow-1">
        <h6 class="darkest-color text-start">{% trans 'Informations' %}</h6>
        {% if request.user == user %}
          <p class="profile-card-subtitle text-start darkest-color small mb-0">{% trans 'Your name' %}</p>
          {% if user.first_name and user.last_name  %}
            <p class="profile-card-info text-start small">{{user.first_name}} {{user.last_name}}</p>
          {% else %}
            <div class="text-start small">
              <a href="#" class="btn-edit"><i class="fa-solid fa-pencil btn-edit-icon"></i><span class="label">{% trans 'Add this info' %}</span></a>
            </div>
          {% endif %}
        {% else %}
          {% if user.first_name and user.last_name and user.is_name_visible %}
          <p class="profile-card-subtitle text-start darkest-color mb-0">{% trans 'Name' %}</p>
          <p class="profile-card-info text-start small">{{user.first_name}} {{user.last_name}}</p>
          {% endif%}
        {% endif %}
        {% if request.user == user %}
          <p class="profile-card-subtitle text-start darkest-color small mb-0 mt-2">{% trans 'Your Email' %}</p>
          
            <p class="profile-card-info text-start small">{{user.email}}</p>
            
        
          

        {% else %}
          {% if user.is_mail_visible %}
          <p class="profile-card-subtitle text-start darkest-color small mb-0 mt-2">{% trans 'Email' %}</p>
          <p class="profile-card-info text-start small">{{user.email}}</p>
          {% endif %}
        {% endif %}

        {% if user.bio %}

        <h6 class="darkest-color text-start mt-3">{% trans 'Bio' %}</h6>
        
          <p class="profile-card-info small text-justify">{{user.bio}}</p>
        
        


        {% endif %}
        

        
          
          
        
        

      
          {% if request.user == user %}
          <div class="text-start small">
          <a href="{% url 'profile-update' request.user.slug %}" class="text-center btn-edit"><i class="fa-solid fa-pencil btn-edit-icon pe-2"></i>{% trans 'Edit Profile' %}</a>
          </div>
          {% else %}
          <a href="#">Contact</a>
          {% endif %}
        </div>
      </div>

    </div>

    <!-- Secondary Profile Cards -->
    <div class="col-12 col-md-6">
      <div class="d-flex flex-column justify-content-around profile-subcard-wrapper">
        <div id="infos1" class="profile-subcard mt-sm-3 p-3">
          <h6 class="darkest-color"><mark>{% trans 'Infos'%}</mark></h6>
        </div>

        <div id="infos2" class="profile-subcard mt-sm-3 p-3">
        <h6 class="darkest-color"><mark>{% trans 'Other infos'%}</mark></h6>
        </div>
      </div>
    </div>

  </div>
</div>
{% endblock content %}